<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="pixi.min.v4.5.5.js"></script>
</head>
<style>
    .loder{
        width: 256px;
        height: 15px;
        border-radius: 20px;
        border:1px solid #999;
        margin-bottom:20px;
        overflow: hidden;
    }
    .cont{
        width: 100%;
        height: 15px;
        background: blue;
        color: red;
        text-align: center;
        line-height: 15px;
    }
    *{
        padding: 0; 
        margin: 0;
    }
.wave2{height: 30px;position: absolute;width: 100%;z-index: 12;left: 0;bottom: 0;}
.wave2 {
    -webkit-animation: wave-animation1 6.3s infinite linear; /* Safari 4+ */
    -moz-animation: wave-animation1 6.3s infinite linear; /* Fx 5+ */
    -o-animation: wave-animation1 6.3s infinite linear; /* Opera 12+ */
    animation: wave-animation1 6.3s infinite linear; /* IE 10+ */
}

@-webkit-keyframes wave-animation1 {
    0% { background-position: 0 0; }
    100% { background-position: 1601px 0; }
}
@-moz-keyframes wave-animation1 {
    0% { background-position: 0 0; }
    100% { background-position: 1601px 0; }
}
@-o-keyframes wave-animation1 {
    0% { background-position: 0 0; }
    100% { background-position: 1601px 0; }
}
@keyframes wave-animation1 {
    0% { background-position: 0 0; }
    100% {background-position: 1601px 0;}
}

.wave2 {
background: url('http://www.templates-preview.com/bootstrap-templates/300111854/images/wave2.png') 0 0 repeat-x;
}
</style>
<body>
    <div class="loder">
        <div class="cont">
            55
        </div>
    </div>
    <div class="wave2"></div>
</body>
</html>
<script>
    // let app = new PIXI.Application({
    //     width: 256, 
    //     height: 256,
    //     antialias: true,  
    //     transparent:false //画布背景透明
    // })
    // app.renderer.backgroundColor = 151652
    // document.body.appendChild(app.view)
    // PIXI.loader.add("./img/11.png").load(setup)
    // function setup(){
    //     //这里是loader加载完成后的回调函数
    //     let sprite = new PIXI.Sprite(
    //         PIXI.loader.resources["./img/11.png"].texture
    //     )
    //     app.stage.addChild(sprite);
    // }
    // app.renderer.autoResize = true;
    // app.renderer.resize(512,512)
    // // let img = PIXI.utils.TextureCache["./img/11.png"];
    // // let sprite = new PIXI.Sprite(texture);
    // // PIXI.loader.add("images/11.png").load(setup);
    // // function setup() {
    // //     //This code will run when the loader has finished loading the image
    // // }
    // // let sprite = new PIXI.Sprite(
    // //     PIXI.loader.resources["images/11.png"].texture
    // // );
    // // load an image and run the `setup` function when it's done
    // PIXI.loader.add("./img/11.png").load(setup);

    // //This `setup` function will run when the image has loaded
    // function setup() {
    //     let cat = new PIXI.Sprite(PIXI.loader.resources["./img/11.png"].texture);
    //     app.stage.addChild(cat);
    // }


//Aliases
// let Application = PIXI.Application,
// loader = PIXI.loader;
// resources = PIXI.loader.resources,

// Sprite = PIXI.Sprite;

//Create a Pixi Application
// let app = new Application({
//     width: 256,
//     height: 256,
//     antialias: true,
//     transparent: false,
//     resolution: 1
// });

// document.body.appendChild(app.view);

// ==============================================================
// loader.add("./img/11.png").load(setup);

// function setup() {
//     let cat = new Sprite(resources["./img/11.png"].texture);
//     cat.x = 130
//     cat.y = 130
//     cat.width = 100
//     cat.height = 100
//     cat.anchor.x = 0.5
//     cat.anchor.y = 0.5
//     cat.rotation = 0.6

//     app.stage.addChild(cat);
// }

// ===============================================================
// base = new PIXI.BaseTexture(anyImageObject),
// texture = new PIXI.Texture(base),
// sprite = new PIXI.Sprite(texture);
// let base = new PIXI.BaseTexture.fromCanvas(anyCanvasElement),
// anySprite.texture = PIXI.utils.TextureCache["anyTexture.png"];

// ================================================================
// PIXI.loader.add([
// "./img/11.png",
// "./img/22.png",
// "./img/33.png"
// ])
// .on("progress", loadProgressHandler)
// .load(setups);

// function loadProgressHandler(loader, resource) {
//     let cont = document.querySelector('.cont');
// cont.style.width = loader.progress
// console.log("loading");
// console.log(loader.progress)
// console.log(resource)
// }

// function setups() {
// console.log("setup");
// }

// loader.add(['./img/10.png']).load(next)
// let TextureCache = PIXI.utils.TextureCache
// function next() {
// //Create the `tileset` sprite from the texture
// let texture = TextureCache["./img/10.png"];

// //Create a rectangle object that defines the position and
// //size of the sub-image you want to extract from the texture
// //(`Rectangle` is an alias for `PIXI.Rectangle`)
// let rectangle = new PIXI.Rectangle(96, 64, 32, 32);

// //Tell the texture to use that rectangular section
// texture.frame = rectangle;

// //Create the sprite from the texture
// let rocket = new PIXI.Sprite(texture);

// //Position the rocket sprite on the canvas
// rocket.x = 32;
// rocket.y = 32;

// //Add the rocket to the stage
// app.stage.addChild(rocket);

// //Render the stage
// // app.renderer.render(stage);
// }
//起别名
// let Application = PIXI.Application,
//     loader = PIXI.loader,
//     resources = PIXI.loader.resources,
//     Sprite = PIXI.Sprite;
// //使用别名
// let app = new Application({
//     width: 256,
//     height: 256,
//     antialias: true,
//     transparent: false,
//     resolution: 1
// })
// document.body.appendChild(app.view)
// loader.add('./img/11.png').load(next)
// function next(){
//     let sprite = new Sprite(resources['./img/11.png'].texture)
//     app.stage.addChild(sprite)
// }

let app = new PIXI.Application({
    width: 256,
    height: 256,
    antialias: true,
    transparent: false,
    resolution: 1
})
document.body.appendChild(app.view)

app.renderer.view.width = 600
app.renderer.autoResize = true;
app.renderer.resize(512,512)
app.renderer.resize(window.innerWidth,window.innerHeight)

// let texture = PIXI.utils.TextureCache["./img/11.png"]
// let sprite = new PIXI.Sprite(texture)
// app.stage.addChild(sprite)

PIXI.loader.add('./img/11.png').load(imgs)
// function imgs(){
//     let sprite = new PIXI.Sprite(PIXI.loader.resources["./img/11.png"].texture)
//     app.stage.addChild(sprite)
//     // app.ticker.add(delta => gameLoop(delta))
//     // function gameLoop(delta){
//     //     sprite.x += 1 + delta;
//     // }
// gameLoop()
// function gameLoop(){
// requestAnimationFrame(gameLoop)
// sprite.x += 1
// }


let cat;
function imgs(){
    cat = new PIXI.Sprite(PIXI.loader.resources['./img/11.png'].texture)
    cat.x = 0;
    cat.y = 20;
    cat.vx = 0;
    cat.vy = 0;
    app.stage.addChild(cat)
    gameLoop()
}
let a = 0;
function gameLoop(){
    requestAnimationFrame(gameLoop)
    if(a < 10){
        cat.vx = 1;
        cat.vy = 1;
    }else if(a > 100 & a < 200){
        cat.vx = 0.5;
        cat.vy = 1.5;
    }else if(a > 200 & a < 300){
        cat.vx = -0.5;
        cat.vy = -1;
    }else if(a > 300 & a < 400){
        cat.vx = -1;
        cat.vy = -0.5;
    }else if(a > 400 & a < 500){
        cat.vx = 0.5;
        cat.vy = 1.5;
    }else if(a > 500 & a < 600){
        cat.vx = 0.5;
        cat.vy = 1.5;
    }else if(a > 600 & a < 700){
        cat.vx = 5;
        cat.vy = -3;
    }else if(a > 700 & a < 800){
        cat.vx = 5;
        cat.vy = 3;
    }
    cat.x += cat.vx;
    cat.y += cat.vy;
    a++
}

</script>